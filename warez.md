# Ebooks
## Library Genesis

<http://gen.lib.rus.ec/>

If the page is written in russian, click on the button labeled 'EN' in the toolbar.

## #ebooks

    /server irc.irchighway.net
    /j #ebooks

Maybe wait 30 seconds after joining to send to the channel.
Run `@search your_book_title` to get a list of results in a zip archive.
Unzip the archive, and search a line containing the book you're looking for.
Finally, copy the bang command, and run it in the channel.

Example:

    !temerut Nick Cutter - The Troop (epub).rar

For more info, see:
<http://ebooks.byethost6.com/index.html>

## #bookz

    /server irc.undernet.org
    /j #bookz

## See also

   - <http://learnbyreading.herokuapp.com/?hack=true>
   - <https://forum.mhut.org/viewforum.php?f=6> (LG forum)
   - <https://www.reddit.com/r/Piracy/comments/7q856s/is_there_a_problem_with_library_genesis/>
   - <https://www.reddit.com/r/Scholar/comments/2raea8/libgen_down/>
   - <https://genofond.org/viewtopic.php?p=9000/>
   - <https://ebookee.org>
   - <https://www.reddit.com/r/Piracy/comments/60gbf7/library_genesis_broken/>
   - <https://www.reddit.com/r/Scholar/comments/3bs1rm/meta_the_libgenscihub_thread_howtos_updates_and/>
   - <https://www.reddit.com/r/antilibrary/comments/6ow6tq/antilibrary_faq/>
   - <https://www.reddit.com/r/Piracy/comments/3i9y7n/guide_for_finding_textbooks/>
   - <https://www.reddit.com/r/trackers/comments/hrgmv/tracker_with_pdfsebooks_of_college_textbooks/c1xrq44>

## Audiobooks

Search for the audiobook that you want here:

   - <https://audiobookx.com>
   - <https://audiobookcup.com>

Click your desired audiobook (if it is available) then copy the URL shown on the
address bar.  After that, paste it on this site: <https://9xbuddy.org>

Finally, download.

Here's a short [video][1] about it if you're interested.

TODO: The links no longer work.  Find other links.

##
## How to get recommendations?

<https://app.thestorygraph.com/recommendations>

##
# Animes

   - <https://nyaa.si/>
   - <https://animetorrents.me/>

# Reddit

   - <https://www.reddit.com/r/Piracy/>
   - <https://www.reddit.com/r/TPB/>
   - <https://www.reddit.com/r/megalinks/>
   - <https://www.reddit.com/r/trackers/>

##
# Youtube-dl
## Getting info
### How to get more help?

    $ youtube-dl --help

###
### How to extract the url of a video embedded inside a webpage?

    $ youtube-dl -g 'webpage url'
                  │
                  └ --get-url

#### How to stream it in mpv?

With a recent enough `mpv(1)`, you can pass it the url directly:

    $ mpv 'url'

This is possible thanks to the youtube-dl hook-script.
The latter looks at  the input URL, and plays the video  located on the website.
It works with many streaming sites, not just youtube.

The youtube-dl hook-script is enabled by  default; `--ytdl` is assumed even when
omitted.

###
### How to get the final name of the file which would be downloaded from an url?

Use the `--get-filename` argument.

#### How to restrict it to only ASCII characters, and avoid "&" and spaces?

Use the `--restrict-filenames` argument.

###
### How to list all the formats in which a video is available?

Use the `-F` (`--list-formats`) argument.

### How to select the stream whose format code is 123?

Use the `-f123` (`--format 123`) argument.

### How to select and merge the two streams of index 12 and 34?

    $ youtube-dl -f12+34
                  ^----^

For more info, see `man youtube-dl /FORMAT SELECTION`.

##
## Audio
### How to convert a video file into audio file?

    $ youtube -dl -x
                   │
                   └ --extract-audio

Requires `ffmpeg` or `avconv`, and `ffprobe` or `avprobe`.

#### How to select mp3 as the audio format?

    $ youtube-dl -x --audio-format mp3
                      ^----------^

##
## Subtitles
### How to list all the languages for which subtitles are available?

Use the `--list-subs` argument.

### How to select the english and french subtitles?

    $ youtube-dl --sub-lang fr,en ...
                   ^-----------^

### How to download all the subtitles of a video

    $ youtube-dl --all-subs
                   ^------^

#### only the ones selected by `--sub-lang`?

    $ youtube-dl --write-sub
                   ^-------^

#### only the ones automatically generated by YouTube?

    $ youtube-dl --write-auto-sub
                   ^------------^

###
### I don't want the video!  Only the subtitles!

    $ youtube-dl --skip-download ...
                   ^-----------^

##
## How to download all the videos in a playlist
### whose index is between 12 and 34?

    $ youtube-dl --playlist-items 12-34 ...

### whose index is between 1, 2, 3, 7, 10, 11, 12, 13?

    $ youtube-dl --playlist-items 1-3,7,10-13 ...

##
## How to change the template used to name a downloaded file?

Use the `-o` argument.

Example:

    -o "%(autonumber)02d - %(title)s.%(ext)s"

This example could name a file like so:

    42 - My Wonderful Video.mp4
    │    │                  │
    │    │                  └ %(ext)s
    │    └ %(title)s
    └ %(autonumber)02d

The item `%(autonumber)0Nd` lets you number the downloaded files, when there are
several (e.g. playlist); 2 specifies the number of digits to use.

If you think you're going to download between 10 and 99 videos, use 2.
Between 100 and 999 videos, use 3.
Etc.

##
# Issues
## tpb is unavailable!

Try to visit the tor site:
<http://piratebayztemzmv.onion/>

If you can't click on a magnet, search  for the text 'magnet' in the source code
of the webpage; copy the link and paste it in transmission.

##
# Todo
## Document a way to search and download torrents from the command-line

For the search part:

    # `we-get` installation
    $ git clone https://github.com/rachmadaniHaryono/we-get
    $ cd we-get
    $ python3 -m pip install .

    # `we-get` usage
    $ we-get --search 'counterpart s01e01' --results=10 --target 1337x,eztv,jackett_rss,the_pirate_bay,yts

Now, on the `we-get` prompt, type `show` and `Space`.
A completion menu should automatically be opened.
Choose the torrent you want, and press `Enter`.
The output should contain a magnet link:

    we-get > show Counterpart.S01E01.WEB.H264-STRiFE[eztv]
    Counterpart.S01E01.WEB.H264-STRiFE[eztv] {
      "leeches": "13",
      "link": "magnet:...",
      "seeds": "192",
      "target": "1337x"
    }

---

For the download part:

    $ transmission-daemon

    # start downloading file via magnet
    $ transmission-remote --add 'magnet:...'

    # monitor download in TUI
    $ watch -n 3 transmission-remote --list
    # monitor download in GUI
    $ xdg-open 'http://localhost:9091/transmission/web/'
                                                      ^
                                                      this slash is important to avoid an error:
                                                      https://askubuntu.com/a/44696

    # to remove the torrent and the files
    $ transmission-remote -t123 --remove-and-delete
                            ^^^
                            torrent ID as reported by `transmission-remote --list`

    # pause the torrent
    $ transmission-remote -t123 --stop

    # delete the torrent (but keep the downloaded files)
    $ transmission-remote -t123 --remove

### we should not need to pass `--target` to `we-get`

But if we omit it, `rargb` is included, which gives an error:

    ...
    File "/usr/lib/python3.8/json/decoder.py", line 355, in raw_decode
      raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Relevant issue report: <https://github.com/rachmadaniHaryono/we-get/issues/24>
I tried the `dev` branch, but it doesn't help.

Find a fix, or post a comment on the previous report (give as much info as possible).

---

BTW, here is how to get the list of sites on which `we-get` can search:

    $ we-get --get-list
    jackett_rss
    1337x
    yts
    eztv
    the_pirate_bay
    rargb

---

Also, there is a typo in `rargb`; it should be `rargb`:
```diff
diff --git a/we_get/modules/rargb.py b/we_get/modules/rargb.py
index 093698f..587534d 100644
--- a/we_get/modules/rargb.py
+++ b/we_get/modules/rargb.py
@@ -11,8 +11,8 @@ SEARCH_LOC = "/api/v2/list_movies.json?query_term=%s&quality%s&genre=%s"
 LIST_LOC = "/api/v2/list_movies.json?quality=%s&genre=%s"
 
 
-class rargb(object):
-    """ rargb module using the JSON API.
+class rarbg(object):
+    """ rarbg module using the JSON API.
     """
 
     def __init__(self, pargs):
@@ -79,7 +79,7 @@ class rargb(object):
 
 
 def main(pargs):
-    run = rargb(pargs)
+    run = rarbg(pargs)
     if run.action == "list":
         return run.list()
     elif run.action == "search":
```
Then:

    $ mv we_get/modules/{rargb,rarbg}.py

### review torrentflix as an alternative to we-get

<https://github.com/ItzBlitz98/torrentflix/>

Pros:

   - can download subtitles automatically
   - can stream
   - Trakt.tv integration

Trakt.tv seems  to be some  kind of  social website dedicated  to movies/series,
which could be useful to discover things to watch.
How good is it though?
How does it compare to these alternatives?:

   - https://followmy.tv/
   - https://simkl.com/

Are there better alternatives?

Cons:

   - require nodejs
   - require peerflix
   - pull many dependencies
   - does too much?  too complex?
   - only streaming?  no persistent download?

###
### watch and document this playlist:

<https://www.youtube.com/watch?v=ee4XzWuapsE&list=PLqv94xWU9zZ05Dbc551z14Eerj2xPWyVt>

We  need  a bunch  of  shell  aliases/functions  to  make the  interaction  with
transmission easier.  The first video has some good info for that.

##
## Review the quality of the sites given here:

- <https://github.com/Igglybuff/awesome-piracy#courses-and-tutorials>
- <https://www.reddit.com/r/FREEMEDIAHECKYEAH/wiki/index>

## Watch and document these videos:

- torsocks - Access The Tor Network - Linux CLI: <https://www.youtube.com/watch?v=0uXFffq-UPU>
- W3M Magnet Links Handler - Linux CLI: <https://www.youtube.com/watch?v=euk_LMdXNOU>

##
# Reference

[1]: https://www.youtube.com/watch?v=QktLDTaCgAo
